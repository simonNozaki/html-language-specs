<!DOCTYPE html>
<html>
  <head>
    <title>HTML basic markups </title>
    <meta charset="utf-8">
    <meta http-equiv="Refresh" content="5">
    <!-- name属性で任意のメタ情報 -->
    <meta name="description" content="マークアップ言語の仕様に詳しくなります">
    <meta name="view-port" content="width=device-width, initial-scale=1">
    <style>
    </style>
    <link rel="stylesheet" href="./style.css">
  </head>
  <body>
    <header>
      <nav>
        <h2>参考</h2>
        <ul>
          <li><a href="https://momdo.github.io/css2/Overview.html" target="_blank">Cascading Stylesheet Level 2 Rivision 2 Specification</a></li>
          <li><a href="./index.html">HTMLの仕様</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <h1>css 2.2 specification</h1>
      <section>
        <h2>視覚整形モデル(Visual Formatting Model)</h2>
        <p>文書内ボックスのレイアウトは以下の要素により決まる:</p>
        <ul>
          <li>ボックスの次元、種類</li>
          <li>位置決めスキーム</li>
          <li>要素間の関係</li>
          <li>外部情報(ビューポートなど)</li>
        </ul>
        <section>
          <h3>ボックスの生成制御</h3>
          <p>cssで生成されるボックスは、視覚整形モデルにおける振る舞いに影響を与える。ボックスの生成は<code>display</code>プロパティにより与えられる。 <code>block</code> や <code>inline</code> でボックスの種類を制御できる </p>
          <p>displayプロパティの値から、子孫ボックスおよび生成されたコンテンツを含む主ボックス(<code>pricipal box</code>)が生成される。</p>
          <section>
            <h4>ブロックレベル要素</h4>
            <ul>
              <li>ブロックレベル要素(Block-level-elements)はparagraphのようなブロックとして視覚的に整形され、(formatted visually)ブロックレベル主ボックスを生成する。</li>
              <li>テーブルなどでない限りブロックレベルボックスはブロックコンテナボックスでもある。</li>
              <li>ブロックレベルボックス、ブロックコンテナボックス、ブロックボックスは曖昧に"ブロック"と呼ばれる。</li>
            </ul>
            以下のケースでは、<code>div</code>に<code>p</code>とプレーンテキストが含まれている。整形の定義を容易にする目的で、そのようなテキストには匿名ブロックボックスがあるものとする。
            (9.2.1.1)
            <pre>
&lt;div&gt;
  plain text
  &lt;p&gt;pararaph&lt;/p&gt;
&lt;/div&gt;</pre>
          </section>
          <section>
            <h4>インラインレベル要素(inline-level elements)</h4>
            <p>新たな内容のブロックを形成しない。<code>display</code>とinline, inline-block, inline-tableにした場合すべてインラインレベル要素になる。</p>
            <p>インラインレベル要素はインライン整形コンテキストに属する<strong>インラインレベルボックス</strong>を生成する。</p>
            ブロックレベルボックス同様、インラインレベルボックスも無名インラインボックスを形成する。以下の例ではemに囲まれていないテキストはインライン要素となる。(9.2.2.1)
            <pre>
&lt;p&gt;This is in &lt;em&gt;inline box&lt;/em&gt;.&lt;/p&gt;</pre>
          </section>
        </section>
        <section>
          <h3>ポジショニングスキーム</h3>
          ボックスの位置は3つの位置決めスキームにより決定される。
          <ul>
            <li>通常フロー: 何も指定しない場合はこれ。</li>
            <li>浮動(float): フローに従ってレイアウトされたあと取り出され、限りなく左 or 右にシフトする</li>
            <li>絶対位置</li>
          </ul>
          <code>position</code>プロパティにstatic以外が明示的に指定される場合、"位置していされた"という。
        </section>
        <section>
          <h3>包含ブロック(Containing block)</h3>
          <p>ボックスの位置と大きさは、"包含ブロック"と呼ばれる長方形の辺および位置により計算される。ただし、位置は包含ブロックに閉じ込められるわけではなく、<code>overflow</code>することもありうる。</p>
        </section>
        <section>
          <h3>通常フロー</h3>
          通常フローにおけるボックスは整形コンテキストに属しており、テーブルやインライン、ブロックである。
          <section>
            <h4>ブロック整形コンテキスト</h4>
            ブロックレベルボックスはブロック整形コンテキストに、インラインレベルボックスはインライン整形コンテキストに属す。
            <ul>
              <li>位置指定された要素、ブロックコンテナ(<code>inline-block</code>など)、ブロックボックスは新しい整形コンテキストを生成する。</li>
              <li>ブロック整形コンテキストでは、要素が上から順番に並べられる。</li>
            </ul>
          </section>
          <section>
            <h4>インライン整形コンテキスト</h4>
            インライン整形コンテキストは、ブロックレベル要素を持たないブロックコンテナボックスにより生成される整形コンテキスト。行を形成する長方形を<code>行ボックス</code>と呼ぶ。
            <ul>
              <li>ブロック整形コンテキストと異なり、要素は左から横に順番に並べられる。</li>
              <li>行ブロックにおける縦および横方向の並びは<code>vertical-align</code>、<code>text-align</code>で制御される。</li>
            </ul>
          </section>
        </section>
        <section>
          <h3>浮動</h3>
          <code>float</code> は絶対位置指定ではない要素にのみ指定されうる。
        </section>
      </section>
      <section>
        <h2>視覚整形モデル: 幅、マージン、高さ、並び</h2>
        <section>
          <h3>コンテンツの幅(width)</h3>
          <ul>
            <li>コンテンツの幅を指定する。非置換インライン要素、テーブル列と列グループを除く全要素に適用される。</li>
              <ul>
                <li>
                  適用のルールは<code>max-width</code>、<code>min-width</code>も同様。
                  <blockquote>
                    CSS 2.2において、テーブル、インラインテーブル、テーブルセル、テーブル列、列グループ上の'min-width'および'max-width'の効果は未定義である。
                  </blockquote>
                </li>
              </ul>
            <li>非置換インライン要素とは、終了タグを持つインライン要素のことでspanやstrongなど: <a href="https://www.dspt.net/html_tag/base.html">HTMLの基本（タグの書き方と要素）</a></li>
            <li>
              包含ブロックに含まれる要素の幅は、要素の位置スキーム(positioning scheme)や置換 or not、およびfloatの有無により計算方法が変わる。
              計算の詳細は<a href="https://momdo.github.io/css2/visudet.html#Computing_widths_and_margins">10.3 幅とマージンの計算</a>を参照。
            </li>
              <ul>
                <li>よくある非置換ブロック要素(divやp、sectionなど)の幅は以下の式になる</li>
                <blockquote>
                  'margin-left' + 'border-left-width' + 'padding-left' + 'width' + 'padding-right' + 'border-right-width' + 'margin-right' = 包含ブロックの幅 
                </blockquote>
              </ul>
          </ul>
        </section>
        <section>
          <h3>コンテンツの高さ(height)</h3>
          <section>
            <ul>
              <li>ボックスのコンテンツの高さを指定する。幅同様非置換インライン要素、テーブルには適用されない。</li>
              <li>
                ボックスの高さおよびマージンの計算は、幅同様計算アルゴリズムが存在する。
                計算の詳細は<a href="https://momdo.github.io/css2/visudet.html#Computing_heights_and_margins">10.6 高さとマージンの計算</a>を参照のこと。
              </li>
            </ul>
          </section>
        </section>
        <section>
          <h3>行の高さの計算(line-height, vertical-align)</h3>
          インラインレベル要素のそれぞれに対してボックスの高さが計算され、<code>line-hight</code>になる。
          インラインレベル要素は<code>vertical-align</code>要素により垂直方向に並びが決まる。
        </section>
      </section>
    </main>
  </body>
</html>